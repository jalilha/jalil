import base64
exec(base64.b64decode(b'IyBEZWNvbXBpbGUgYnkgTWFyZGlzIChUb29scyBCeSBKYWxpbCkKIyBUaW1lIFN1Y2NlcyBkZWNvbXBpbGUgOiAyMDIzLTAxLTAxIDA5OjMwOjU3LjYwNzM0NAoKZnJvbSBvcyBpbXBvcnQgcGF0aAppbXBvcnQgb3MsYmFzZTY0LHpsaWIscGlwLHVybGxpYgoKdHJ5OgogICAgICAgIGltcG9ydCBvcyxyZXF1ZXN0cyxqc29uLHRpbWUscmUscmFuZG9tLHN5cyx1dWlkLHN0cmluZyxzdWJwcm9jZXNzCiAgICAgICAgZnJvbSBzdHJpbmcgaW1wb3J0ICoKICAgICAgICBmcm9tIGNvbmN1cnJlbnQuZnV0dXJlcyBpbXBvcnQgVGhyZWFkUG9vbEV4ZWN1dG9yIGFzIHRyZWQKZXhjZXB0IE1vZHVsZU5vdEZvdW5kRXJyb3I6CiAgICAgICAgcHJpbnQoJ1xuIEluc3RhbGxpbmcgbWlzc2luZyBtb2R1bGVzIC4uLicpCiAgICAgICAgb3Muc3lzdGVtKCdwaXAgaW5zdGFsbCByZXF1ZXN0cyBmdXR1cmVzPT0yID4gL2Rldi9udWxsJykKICAgICAgICMjIyBvcy5zeXN0ZW0oJ3B5dGhvbiBqYWxpaWlsLnB5KWV4Y2VwdDpwYXNzCiAgICAgICAgCmZia3M9KCdjb20uZmFjZWJvb2suYWRzbWFuYWdlcicsJ2NvbS5mYWNlYm9vay5saXRlJywnY29tLmZhY2Vib29rLm9yY2EnLCdjb20uZmFjZWJvb2sua2F0YW5hJywnY29tLmZhY2Vib29rLm1saXRlJykKdHJ5OgogICAgcHJveD0gcmVxdWVzdHMuZ2V0KCdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vamFsaWxobS9qYWxpbC9tYWluL3Byb3hpZXMudHh0JykudGV4dAogICAgb3BlbigncHJveGllcy50eHQnLCd3Jykud3JpdGUocHJveGllcykKZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgcHJpbnQoJ3tCTEVVeEdSRUVOfVviiJpdIFdFTENPTUUgVE8gSkFMSUlJTCBUT09MJykKCQpwcm94aWVzPW9wZW4oJ3Byb3hpZXMudHh0JywncicpLnJlYWQoKS5zcGxpdGxpbmVzKCkKCgphbmRyb2lkX21vZGVscz1bXQp0cnk6CiAgICB4eCA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2phbGlsaG0vamFsaWwvbWFpbi9zdHJpbmdzLnR4dCcpLnRleHQuc3BsaXRsaW5lcygpCiAgICBmb3IgbGluZSBpbiB4eDoKICAgICAgICBhbmRyb2lkX21vZGVscy5hcHBlbmQobGluZSkKZXhjZXB0OnBhc3MKCnVzcj1bXQp0cnk6CiAgICB4ZD1yZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9qYWxpbGhtL2phbGlsL21haW4vdWEudHh0JykudGV4dC5zcGxpdGxpbmVzKCkKICAgIGZvciB1cyBpbiB4ZDoKICAgICAgICB1c3IuYXBwZW5kKHVzKQpleGNlcHQ6IHBhc3MKZ3QgPSByYW5kb20uY2hvaWNlKFsnR1QtMTAxNScsJ0dULTEwMjAnLCdHVC0xMDMwJywnR1QtMTAzNScsJ0dULTEwNDAnLCdHVC0xMDQ1JywnR1QtMTA1MCcsJ0dULTEyNDAnLCdHVC0xNDQwJywnR1QtMTQ1MCcsJ0dULTE4MTkwJywnR1QtMTgyNjInLCdHVC0xOTA2MEknLCdHVC0xOTA4MicsJ0dULTE5MDgzJywnR1QtMTkxMDUnLCdHVC0xOTE1MicsJ0dULTE5MTkyJywnR1QtMTkzMDAnLCdHVC0xOTUwNScsJ0dULTIwMDAnLCdHVC0yMDAwMCcsJ0dULTIwMHMnLCdHVC0zMDAwJywnR1QtNDE0WE9QJywnR1QtNjkxOCcsJ0dULTcwMTAnLCdHVC03MDIwJywnR1QtNzAzMCcsJ0dULTcwNDAnLCdHVC03MDUwJywnR1QtNzEwMCcsJ0dULTcxMDUnLCdHVC03MTEwJywnR1QtNzIwNScsJ0dULTcyMTAnLCdHVC03MjQwUicsJ0dULTcyNDUnLCdHVC03MzAzJywnR1QtNzMxMCcsJ0dULTczMjAnLCdHVC03MzI1JywnR1QtNzMyNicsJ0dULTczNDAnLCdHVC03NDA1JywnR1QtNzU1MCAgIDVHVC04MDA1JywnR1QtODAxMCcsJ0dULTgxJywnR1QtODEwJywnR1QtODEwNScsJ0dULTgxMTAnLCdHVC04MjIwUycsJ0dULTg0MTAnLCdHVC05MzAwJywnR1QtOTMyMCcsJ0dULTkzRycsJ0dULUE3MTAwJywnR1QtQTk1MDAnLCdHVC1BTkRST0lEJywnR1QtQjI3MTAnLCdHVC1CNTMzMCcsJ0dULUI1MzMwQicsJ0dULUI1MzMwTCcsJ0dULUI1MzMwWktBSU5VJywnR1QtQjU1MTAnLCdHVC1CNTUxMicsJ0dULUI1NzIyJywnR1QtQjc1MTAnLCdHVC1CNzcyMicsJ0dULUI3ODEwJywnR1QtQjkxNTAnLCdHVC1COTM4OCcsJ0dULUMzMDEwJywnR1QtQzMyNjInLCdHVC1DMzMxMFInLCdHVC1DMzMxMicsJ0dULUMzMzEyUicsJ0dULUMzMzEzVCcsJ0dULUMzMzIyJywnR1QtQzMzMjJpJywnR1QtQzM1MjAnLCdHVC1DMzUyMEknLCdHVC1DMzU5MicsJ0dULUMzNTk1JywnR1QtQzM3ODInLCdHVC1DNjcxMicsJ0dULUUxMjgyVCcsJ0dULUUxNTAwJywnR1QtRTIyMDAnLCdHVC1FMjIwMicsJ0dULUUyMjUwJywnR1QtRTIyNTInLCdHVC1FMjYwMCcsJ0dULUUyNjUyVycsJ0dULUUzMjEwJywnR1QtRTMzMDknLCdHVC1FMzMwOUknLCdHVC1FMzMwOVQnLCdHVC1HNTMwSCcsJ0dULWc5MDBmJywnR1QtRzkzMEYnLCdHVC1IOTUwMCcsJ0dULUk1NTA4JywnR1QtSTU4MDEnLCdHVC1JNjQxMCcsJ0dULUk4MTUwJywnR1QtSTgxNjBPS0xUUEEnLCdHVC1JODE2MFpXTFRUVCcsJ0dULUk4MjU4JywnR1QtSTgyNjJEJywnR1QtSTgyNjgnLCdHVC1JODUwNScsJ0dULUk4NTMwQkFBQlRVJywnR1QtSTg1MzBCQUxDSE8nLCdHVC1JODUzMEJBTFRUVCcsJ0dULUk4NTUwRScsJ0dULWk4NzAwJywnR1QtSTg3NTAnLCdHVC1JOTAwJywnR1QtSTkwMDhMJywnR1QtaTkwNDAnLCdHVC1JOTA4MEUnLCdHVC1JOTA4MkMnLCdHVC1JOTA4MkVXQUlOVScsJ0dULUk5MDgyaScsJ0dULUk5MTAwRycsJ0dULUk5MTAwTEtMQ0hUJywnR1QtSTkxMDBNJywnR1QtSTkxMDBQJywnR1QtSTkxMDBUJywnR1QtSTkxMDVVQU5EQlQnLCdHVC1JOTEyOEUnLCdHVC1JOTEyOEknLCdHVC1JOTEyOFYnLCdHVC1JOTE1OFAnLCdHVC1JOTE1OFYnLCdHVC1JOTE2OEknLCdHVC1JOTE5MkknLCdHVC1JOTE5NUgnLCdHVC1JOTE5NUwnLCdHVC1JOTI1MCcsJ0dULUk5MzAzSScsJ0dULUk5MzA1TicsJ0dULUk5MzA4SScsJ0dULUk5NTA1RycsJ0dULUk5NTA1WCcsJ0dULUk5NTA3VicsJ0dULUk5NjAwJywnR1QtbTE5MCcsJ0dULU01NjUwJywnR1QtbWluaScsJ0dULU41MDAwUycsJ0dULU41MTAwJywnR1QtTjUxMDUnLCdHVC1ONTExMCcsJ0dULU41MTIwJywnR1QtTjcwMDBCJywnR1QtTjcwMDUnLCdHVC1ONzEwMFQnLCdHVC1ONzEwMicsJ0dULU43MTA1JywnR1QtTjcxMDVUJywnR1QtTjcxMDgnLCdHVC1ONzEwOEQnLCdHVC1OODAwMCcsJ0dULU44MDA1JywnR1QtTjgwMTAnLCdHVC1OODAyMCcsJ0dULU45MDAwJywnR1QtTjk1MDUnLCdHVC1QMTAwMENXQVhTQScsJ0dULVAxMDAwTScsJ0dULVAxMDAwVCcsJ0dULVAxMDEwJywnR1QtUDMxMDBCJywnR1QtUDMxMDUnLCdHVC1QMzEwOCcsJ0dULVAzMTEwJywnR1QtUDUxMDAnLCdHVC1QNTIwMCcsJ0dULVA1MjEwWEQxJywnR1QtUDUyMjAnLCdHVC1QNjIwMCcsJ0dULVA2MjAwTCcsJ0dULVA2MjAxJywnR1QtUDYyMTAnLCdHVC1QNjIxMScsJ0dULVA2ODAwJywnR1QtUDcxMDAnLCdHVC1QNzMwMCcsJ0dULVA3MzAwQicsJ0dULVA3MzEwJywnR1QtUDczMjAnLCdHVC1QNzUwMEQnLCdHVC1QNzUwME0nLCdHVC1QNzUwMFInLCdHVC1QNzUwMFYnLCdHVC1QNzUwMScsJ0dULVA3NTExJywnR1QtUzMzMzAnLCdHVC1TMzMzMicsJ0dULVMzMzMzJywnR1QtUzMzNzAnLCdHVC1TMzUxOCcsJ0dULVMzNTcwJywnR1QtUzM2MDBpJywnR1QtUzM2NTAnLCdHVC1TMzY1M1cnLCdHVC1TMzc3MEsnLCdHVC1TMzc3ME0nLCdHVC1TMzgwMFcnLCdHVC1TMzgwMicsJ0dULVMzODUwJywnR1QtUzUyMjAnLCdHVC1TNTIyMFInLCdHVC1TNTIyMicsJ0dULVM1MjMwJywnR1QtUzUyMzBXJywnR1QtUzUyMzNUJywnR1QtczUyMzN3JywnR1QtUzUyNTAnLCdHVC1TNTI1MycsJ0dULXM1MjYwJywnR1QtUzUyODAnLCdHVC1TNTI4MicsJ0dULVM1MjgzQicsJ0dULVM1MjkyJywnR1QtUzUzMDAnLCdHVC1TNTMwMEwnLCdHVC1TNTMwMScsJ0dULVM1MzAxQicsJ0dULVM1MzAxTCcsJ0dULVM1MzAyJywnR1QtUzUzMDJCJywnR1QtUzUzMDMnLCdHVC1TNTMwM0InLCdHVC1TNTMxMCcsJ0dULVM1MzEwQicsJ0dULVM1MzEwQycsJ0dULVM1MzEwRScsJ0dULVM1MzEwRycsJ0dULVM1MzEwSScsJ0dULVM1MzEwTCcsJ0dULVM1MzEwTScsJ0dULVM1MzEwTicsJ0dULVM1MzEyJywnR1QtUzUzMTJCJywnR1QtUzUzMTJDJywnR1QtUzUzMTJMJywnR1QtUzUzMzAnLCdHVC1TNTM2MCcsJ0dULVM1MzYwQicsJ0dULVM1MzYwTCcsJ0dULVM1MzYwVCcsJ0dULVM1MzYzJywnR1QtUzUzNjcnLCdHVC1TNTM2OScsJ0dULVM1MzgwJywnR1QtUzUzODBEJywnR1QtUzU1MDAnLCdHVC1TNTU2MCcsJ0dULVM1NTYwaScsJ0dULVM1NTcwQicsJ0dULVM1NTcwSScsJ0dULVM1NTcwTCcsJ0dULVM1NTc4JywnR1QtUzU2MDAnLCdHVC1TNTYwMycsJ0dULVM1NjEwJywnR1QtUzU2MTBLJywnR1QtUzU2MTEnLCdHVC1TNTYyMCcsJ0dULVM1NjcwJywnR1QtUzU2NzBCJywnR1QtUzU2NzBIS0JaVEEnLCdHVC1TNTY5MCcsJ0dULVM1NjkwUicsJ0dULVM1ODMwJywnR1QtUzU4MzBEJywnR1QtUzU4MzBHJywnR1QtUzU4MzBpJywnR1QtUzU4MzBMJywnR1QtUzU4MzBNJywnR1QtUzU4MzBUJywnR1QtUzU4MzBWJywnR1QtUzU4MzFpJywnR1QtUzU4MzgnLCdHVC1TNTgzOWknLCdHVC1TNjAxMCcsJ0dULVM2MDEwQkJBQlRVJywnR1QtUzYwMTInLCdHVC1TNjAxMkInLCdHVC1TNjEwMicsJ0dULVM2MTAyQicsJ0dULVM2MjkzVCcsJ0dULVM2MzEwQicsJ0dULVM2MzEwWldBTUlEJywnR1QtUzYzMTInLCdHVC1TNjMxM1QnLCdHVC1TNjM1MicsJ0dULVM2NTAwJywnR1QtUzY1MDBEJywnR1QtUzY1MDBMJywnR1QtUzY3OTAnLCdHVC1TNjc5MEwnLCdHVC1TNjc5ME4nLCdHVC1TNjc5MkwnLCdHVC1TNjgwMCcsJ0dULVM2ODAwSEtBWEZBJywnR1QtUzY4MDInLCdHVC1TNjgxMCcsJ0dULVM2ODEwQicsJ0dULVM2ODEwRScsJ0dULVM2ODEwTCcsJ0dULVM2ODEwTScsJ0dULVM2ODEwTUJBU0VSJywnR1QtUzY4MTBQJywnR1QtUzY4MTInLCdHVC1TNjgxMkInLCdHVC1TNjgxMkMnLCdHVC1TNjgxMmknLCdHVC1TNjgxOCcsJ0dULVM2ODE4VicsJ0dULVM3MjMwRScsJ0dULVM3MjMzRScsJ0dULVM3MjUwRCcsJ0dULVM3MjYyJywnR1QtUzcyNzAnLCdHVC1TNzI3MEwnLCdHVC1TNzI3MicsJ0dULVM3MjcyQycsJ0dULVM3MjczVCcsJ0dULVM3Mjc4JywnR1QtUzcyNzhVJywnR1QtUzczOTAnLCdHVC1TNzM5MEcnLCdHVC1TNzM5MEwnLCdHVC1TNzM5MicsJ0dULVM3MzkyTCcsJ0dULVM3NTAwJywnR1QtUzc1MDBBQkFCVFUnLCdHVC1TNzUwMEFCQURCVCcsJ0dULVM3NTAwQUJUVExQJywnR1QtUzc1MDBDV0FEQlQnLCdHVC1TNzUwMEwnLCdHVC1TNzUwMFQnLCdHVC1TNzU2MCcsJ0dULVM3NTYwTScsJ0dULVM3NTYyJywnR1QtUzc1NjJDJywnR1QtUzc1NjJpJywnR1QtUzc1NjJMJywnR1QtUzc1NjYnLCdHVC1TNzU2OCcsJ0dULVM3NTY4SScsJ0dULVM3NTcyJywnR1QtUzc1ODBFJywnR1QtUzc1ODNUJywnR1QtUzc1OFgnLCdHVC1TNzU5MicsJ0dULVM3NzEwJywnR1QtUzc3MTBMJywnR1QtUzc4OTgnLCdHVC1TNzg5OEknLCdHVC1TODUwMCcsJ0dULVM4NTMwJywnR1QtUzg2MDAnLCdHVC1TVEI5MTknLCdHVC1UMTQwJywnR1QtVDE1MCcsJ0dULVY4YScsJ0dULVY4aScsJ0dULVZDODE4JywnR1QtVk05MTlTJywnR1QtVzEzMScsJ0dULVcxNTMnLCdHVC1YODMxJywnR1QtWDg1MycsJ0dULVg4NzAnLCdHVC1YODkwJywnR1QtWTg3NTAnXSkKdWdlbj1bXQpmb3IgeGQgaW4gcmFuZ2UoMTAwMDApOgogICAgICAgIGFhPSdNb3ppbGxhLzUuMCAoTGludXg7IFU7IEFuZHJvaWQnCiAgICAgICAgYj1yYW5kb20uY2hvaWNlKFsnNicsJzcnLCc4JywnOScsJzEwJywnMTEnLCcxMicsJzEzJ10pCiAgICAgICAgYz1mJyBUTC10bDsge3N0cihndCl9JwogICAgICAgIGc9J0FwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8nCiAgICAgICAgaD1yYW5kb20ucmFuZHJhbmdlKDczLDEwMCkKICAgICAgICBpPScwJwogICAgICAgIGo9cmFuZG9tLnJhbmRyYW5nZSg0MjAwLDQ5MDApCiAgICAgICAgaz1yYW5kb20ucmFuZHJhbmdlKDQwLDE1MCkKICAgICAgICBsPSdNb2JpbGUgU2FmYXJpLzUzNy4zNicKICAgICAgICB1YWt1Mj1mJ3thYX0ge2J9OyB7Y30pIHtnfXtofS57aX0ue2p9LntrfSB7bH0nCiAgICAgICAgdWdlbi5hcHBlbmQodWFrdTIpCmZvciBhZ2VudCBpbiByYW5nZSgxMDAwMCk6CiAgICAgICAgYWE9J01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA2LjAuMTsnCiAgICAgICAgYj1yYW5kb20uY2hvaWNlKFsnNicsJzcnLCc4JywnOScsJzEwJywnMTEnLCcxMiddKQogICAgICAgIGM9J2VuLXVzOyAxMDsgVC1Nb2JpbGUgbXlUb3VjaCAzRyBTbGlkZSBCdWlsZC8nCiAgICAgICAgZD1yYW5kb20uY2hvaWNlKFsnQScsJ0InLCAnQycsICdEJywgJ0UnLCAnRicsICdHJywgJ0gnLCAnSScsICdKJywgJ0snLCAnTCcsICdNJywgJ04nLCAnTycsICdQJywgJ1EnLCAnUicsICdTJywgJ1QnLCAnVScsICdWJywgJ1cnLCAnWCcsICdZJywgJ1onXSkKICAgICAgICBlPXJhbmRvbS5yYW5kcmFuZ2UoMSwgOTk5KQogICAgICAgIGY9cmFuZG9tLmNob2ljZShbJ0EnLCdCJywgJ0MnLCAnRCcsICdFJywgJ0YnLCAnRycsICdIJywgJ0knLCAnSicsICdLJywgJ0wnLCAnTScsICdOJywgJ08nLCAnUCcsICdRJywgJ1InLCAnUycsICdUJywgJ1UnLCAnVicsICdXJywgJ1gnLCAnWScsICdaJ10pCiAgICAgICAgZz0nQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzg5LjAuNDM4OS45OScKICAgICAgICBoPXJhbmRvbS5yYW5kcmFuZ2UoNzMsMTAwKQogICAgICAgIGk9JzAnCiAgICAgICAgaj1yYW5kb20ucmFuZHJhbmdlKDQyMDAsNDkwMCkKICAgICAgICBrPXJhbmRvbS5yYW5kcmFuZ2UoNDAsMTUwKQogICAgICAgIGw9J01vYmlsZSBTYWZhcmkvNTMzLjEnCiAgICAgICAgZnVsbGFnbnQ9KGYne2FhfSB7Yn07IHtjfXtkfXtlfXtmfSkge2d9e2h9LntpfS57an0ue2t9IHtsfScpCiAgICAgICAgdWdlbi5hcHBlbmQoZnVsbGFnbnQpCiMjX19fX19fQ09MT1JTX19fX0FSRV9fX19fX19fIyMjIyMjCnB3eD1bXQpXID0gJ1wwMzNbOTc7MW0nClIgPSAnXDAzM1s5MTsxbScKRyA9ICdcMDMzWzkyOzFtJwpZID0gJ1wwMzNbOTM7MW0nCkIgPSAnXDAzM1s5NDsxbScKUCA9ICdcMDMzWzk1OzFtJwpTID0gJ1wwMzNbOTY7MW0nCk4gPSAnXHgxYlswbScKUFVSUExFID0nXHgxYlszODs1OzQ2bScKUkVEID0gJ1wwMzNbMTs5MW0nCldISVRFID0gJ1wwMzNbMTs5N20nCkdSRUVOID0gJ1wwMzNbMTszMm0nCllFTExPVyA9ICdcMDMzWzE7MzNtJwpCTFVFID0gJ1wwMzNbMTszNG0nCk9SQU5HRSA9ICdcMDMzWzE7MzVtJwpCTEFDSz0iXDAzM1sxOzMwbSIKRVhUUkEgPSdceDFiWzM4OzU7MjA4bScKI19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18jCgpsb2dvPShmIiIie1dISVRFfQogICBvb29vICAgICAgIC5vLiAgICAgICBvb29vbyAgICAgICAgb29vb28gb29vb28gICAgICAgIAogICBgODg4ICAgICAgLjg4OC4gICAgICBgODg4JyAgICAgICAgYDg4OCcgYDg4OCcgICAgICAgIAogICAgODg4ICAgICAuOCI4ODguICAgICAgODg4ICAgICAgICAgIDg4OCAgIDg4OCAgICAgICAgIAogICAgODg4ICAgIC44JyBgODg4LiAgICAgODg4ICAgICAgICAgIDg4OCAgIDg4OCAgICAgICAgIAogICAgODg4ICAgLjg4b29vODg4OC4gICAgODg4ICAgICAgICAgIDg4OCAgIDg4OCAgICAgICAgIAogICAgODg4ICAuOCcgICAgIGA4ODguICAgODg4ICAgICAgIG8gIDg4OCAgIDg4OCAgICAgICBvIAouby4gODhQIG84OG8gICAgIG84ODg4byBvODg4b29vb29vZDggbzg4OG8gbzg4OG9vb29vb2Q4IApgWTg4OFAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtHUkVFTn1BIHtSRUR9TCB7V0hJVEV9RwpfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX18KClx0W8OXXSBEZXZlbG9wZWQgQnkge0VYVFJBfUpBTElMCiB7V0hJVEV9W+KAol0gQWRtaW4gICAgICAgOiB7UkVEfUpBTElMCiB7V0hJVEV9W+KAol0gVGVsZWdyYW0gICAgOiBJVFpKQUxJTDAKIHtXSElURX1b4oCiXSBXaGF0c0FwcCAgICA6IHtHUkVFTn0rMjEzNjc2OTgwNDgxCiB7V0hJVEV9W+KAol0gRmFjZWJvb2sgICAgOiBILiBNLiBKQUxJTAogW+KAol0gVmVyc2lvbiAgICAgOiB7UkVEfTEuNQoKe1dISVRFfT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQogICBcMzNbMzc7NDFtXHQgV0VMQ09NRSAgVE8gIEpBTElJSUwgICBUT09MIFwzM1swO20Ke1dISVRFfT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0iIiIpCmRlZiBsaW5leCgpOgogICAgcHJpbnQoJ1wwMzNbMTszN20tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJykKZGVmIGNsZWFyKCk6CiAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICAgICAgcHJpbnQobG9nbykKbG9vcD0wCm9rcz1bXQpjcHM9W10KcGNwPVtdCmlkPVtdCnRva2Vua3U9W10KaW1wb3J0IHB5Y3VybApmcm9tIGlvIGltcG9ydCBCeXRlc0lPCmRlZiBnZXRfcmVzcG9uc2UodXJsKToKICAgIHJlc3BvbnNlX2J1ZmZlciA9IEJ5dGVzSU8oKQoKICAgIGN1cmwgPSBweWN1cmwuQ3VybCgpCiAgICBjdXJsLnNldG9wdChjdXJsLlVSTCwgdXJsKQogICAgY3VybC5zZXRvcHQoY3VybC5XUklURURBVEEsIHJlc3BvbnNlX2J1ZmZlcikKCiAgICB0cnk6CiAgICAgICAgY3VybC5wZXJmb3JtKCkKICAgIGV4Y2VwdCBweWN1cmwuZXJyb3IgYXMgZToKICAgICAgICByZXR1cm4gZiJFcnJvcjoge2V9IgoKICAgIHJlc3BvbnNlID0gcmVzcG9uc2VfYnVmZmVyLmdldHZhbHVlKCkuZGVjb2RlKCd1dGYtOCcpCiAgICBjdXJsLmNsb3NlKCkKCiAgICByZXR1cm4gcmVzcG9uc2UKCmRlZiByZW1vdmVfc3ltYm9sc19hbmRfc3BhY2VzKGlucHV0X3N0cmluZyk6CiAgICBjbGVhbmVkX3N0cmluZyA9IHJlLnN1YihyJ1teYS16QS1aMC05I10nLCAnJywgaW5wdXRfc3RyaW5nKQogICAgcmV0dXJuIGNsZWFuZWRfc3RyaW5nCiAgICAKZGVmIGFwcHJvdmFsKCk6CiAgb3Muc3lzdGVtKCdjbGVhcicpCiAgcHJpbnQobG9nbykKICBpbXBvcnQgcGxhdGZvcm0KICB1dWlkID0gc3RyKG9zLmdldGV1aWQoKSkrIiMiKyBwbGF0Zm9ybS51bmFtZSgpLm1hY2hpbmUrcGxhdGZvcm0udW5hbWUoKS52ZXJzaW9uK3BsYXRmb3JtLnVuYW1lKCkucmVsZWFzZQogIGlkID0gcmVtb3ZlX3N5bWJvbHNfYW5kX3NwYWNlcyh1dWlkKQogIGsxLGsyLGszLGs0PWlkWzo0XSxpZFszOjZdLGlkWzQ6OV0saWRbOTpdCiAgaW50dWlkPWludChpZC5zcGxpdCgiIyIpWzBdKQogIHByZWY9c3RyKChpbnR1aWQtMTA0NzI5KSoyLTM3KygxLTIqKjcpKQogIHN1ZmY9c3RyKChpbnR1aWQtNTIzMjE3KSUxMDQ3MjkpCiAgcmVhbGlkPShzdWZmK2szK2sxK2s0K2syK3ByZWYpLmVuY29kZSgpLmhleCgpCiAgdHJ5OgogICAgaHR0cENhaHQgPSBnZXRfcmVzcG9uc2UoJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9qYWxpbGhhL2phbGlsL21haW4vamFsaWwudHh0JykKICAgIGlmIHJlYWxpZCBpbiBodHRwQ2FodDoKICAgICAgI3ByaW50KCJcM1sxOzMybSBZT1VSIEtFWSBJUyBBUFBST1ZFRC4iKQogICAgICAjbXNnID0gc3RyKG9zLmdldGV1aWQoKSkKICAgICAgcGFzcwogICAgZWxzZToKICAgICAgcHJpbnQoIlwzM1sxOzMybSBZT1VSIEtFWSA6XHgxYlszODs1OzQ2bSAiK2lkKQogICAgICBwcmludCgnXDMzWzE7MzdtID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0nKQogICAgICBwcmludCgiXDMzWzE7MzdtID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0iKQogICAgICBwcmludCgiXDMzWzE7MzZtIE5PVEU6LSBUSElTIFRPT0wgSVMgUEFJRCBcbiBZT1UgSEFWRSBUTyBQQVkgRk9SIEFQUFJPVkFMIEZJUlNUIC4iKQogICAgICBwcmludCgnXDMzWzE7MzdtID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0nKQogICAgICBwcmludCAoIiBcMzNbMzc7NDFtXHQgV0VMQ09NRSBUTyBVU01JSUkgVE9PTCBBTkQgRU5KT1kgXDMzWzA7bSIpCiAgICAgIHByaW50KCdcMzNbMTszN20gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PScpCgogICAgICBwcmludCAoIlwzM1sxOzM3bSBTRU5EIDUwMERBIChGT1IgMTUgREFZUyBBUFBST1ZFTCkiKQogICAgICBwcmludCgnXDMzWzE7MzdtID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0nKQogICAgICBwcmludCAoIlwzM1sxOzM3bSBTRU5EIDMgJCB1c2QgKEZPUiAxNSBEQVlTIEFQUFJPVkVMKSIpCiAgICAgIHByaW50KCdcMzNbMTszN20gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PScpCiAgICAgIHByaW50ICgiXDMzWzE7MzdtIFNFTkQgOTAwREEgKEZPUiAzMCBEQVlTIEFQUFJPVkVMKSIpCiAgICAgIHByaW50KCdcMzNbMTszN20gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PScpCiAgICAgIHByaW50ICgiXDMzWzE7MzdtIFNFTkQgNSAkIHVzZCAoRk9SIDMwIERBWVMgQVBQUk9WRUwpIikKICAgICAgcHJpbnQoJ1wzM1sxOzM3bSA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09JykKICAgICAgcHJpbnQgKCJcMzNbMTszN20gSkFMSUwgUEhPTkUgKCsyMTM2NzY5ODA0ODEpIikKICAgICAgcHJpbnQgKCJcMzNbMzc7NDFtXHQgU1VCU0NSSUJFIFRPIFRIRSBCRVNUIFRPT0wgTk9XICBcMzNbMDttIikKICAgICAgaW5wdXQoJyBJSUYgWU9VIEFSRSBGUkVFIFVTRVIgVEhFTiBET05UIFBSRVNTIEVOVEVSJykKICAgICAgdGtzID0gKCdIZWxsbyUyMFNpciUyMCElMjBQbGVhc2UlMjBBcHByb3ZlJTIwTXklMjBUb2tlbiUyMFRoZSUyMFRva2VuJTIwSXMlMjA6JTIwJytpZCk7b3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL3dhLm1lL21lc3NhZ2UvMjEzNjc2OTgwNDgxJyt0a3MpCiAgICAgIHN5cy5leGl0KCkKICAgICAgI3RpbWUuc2xlZXAoMSkKICAgICAgI2FwcHJvdmFsKCkKICBleGNlcHQgRXhjZXB0aW9uIGFzIGVycm9yOgogICAgcHJpbnQoZXJyb3IpICAgICAgICAgICAgICAgICAgICAgICAgCgoKZGVmIG1lbnUoKToKICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBhcHByb3ZhbCgpCiAgICAgICAgICAgICAgICAjY2xlYXIoKQogICAgICAgICAgICAgICAgeCA9ICgic2V4IikKICAgICAgICAgICAgICAgIGlmIHggPT0gKCJzZXgiKToKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoJyBbMV0gRmlsZSBjbG9uaW5nXG4gWzJdIENyZWF0ZSBpZHMgZmlsZVxuIFswXSBFeGl0IG1lbnUnKQogICAgICAgICAgICAgICAgICAgICAgICBsaW5leCgpCiAgICAgICAgICAgICAgICAgICAgICAgIHhkPWlucHV0KCcgQ2hvb3NlIGFuIG9wdGlvbjogJykKICAgICAgICAgICAgICAgICAgICAgICAgaWYgeGQgaW4gWycxJywnMDEnXToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhcigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoJyBQdXQgZmlsZSBleGFtcGxlOiAgL3NkY2FyZC9GaWxlLnR4dCAgZXRjLi4nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmV4KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlID0gaW5wdXQoJyBQdXQgZmlsZSBwYXRoXDAzM1sxOzM3bTogJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbyA9IG9wZW4oZmlsZSwncicpLnJlYWQoKS5zcGxpdGxpbmVzKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGNlcHQgRmlsZU5vdEZvdW5kRXJyb3I6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCgnIEZpbGUgbG9jYXRpb24gbm90IGZvdW5kICcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKDEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZW51KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhcigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoJyBBbGwgbWV0aG9kIHdvcmtpbmcgdHJ5IDEgYnkgMSAnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmV4KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCgnIFsxXSBNZXRob2QgMSAoZm9yIG5ldyBpZHMpIFxuIFsyXSBNZXRob2QgMiAoZm9yIG1peCBpZHMpXG4gWzNdIE1ldGhvZCAzIChmb3Igb2xkIGlkcyknKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmV4KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtdGhkPWlucHV0KCcgQ2hvb3NlOiAnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmV4KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGlzdCA9IFtdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHNfbGltaXQgPSBpbnQoaW5wdXQoJyBIb3cgbWFueSBwYXNzd29yZHMgZG8geW91IHdhbnQgdG8gYWRkID8gJykpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHNfbGltaXQgPTEKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5leCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoJ1wwMzNbMTszMm0gZXhwOiBmaXJzdCBsYXN0LGZpcnRzbGFzdCxmaXJzdDEyMycpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZXgoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBpIGluIHJhbmdlKHBzX2xpbWl0KToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsaXN0LmFwcGVuZChpbnB1dChmJyBQdXQgcGFzc3dvcmQge2krMX06ICcpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmV4KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCgnIERvIHlvdSB3ZW50IHNob3cgY3AgYWNjb3VudD8gKHkvbik6ICcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZXgoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN4PWlucHV0KCcgQ2hvb3NlOiAnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGN4IGluIFsneScsJ1knLCd5ZXMnLCdZZXMnLCcxJ106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwY3AuYXBwZW5kKCd5JykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGNwLmFwcGVuZCgnbicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2l0aCB0cmVkKG1heF93b3JrZXJzPTMwKSBhcyBjcmFja19zdWJtaXQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhcigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbF9pZHMgPSBzdHIobGVuKGZvKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCcgVE9UQUwgQUNDT1VOVCA6IFwwMzNbMTszMm0nK3RvdGFsX2lkcytmJyBcMDMzWzE7MzNtPlwwMzNbMTszNm0+IFwwMzNbMTszN21NRVRIT0QgXDAzM1sxOzMzbT5cMDMzWzE7MzZtPiB7R1JFRU59TXttdGhkfScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCgiXDAzM1sxOzM3bSBceDFiWzM4OzU7MjA4bVVTRSBGTElHSFQgTU9ERSBGT1IgU1BFRUQgVVBcMDMzWzE7MzdtIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmV4KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciB1c2VyIGluIGZvOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZHMsbmFtZXMgPSB1c2VyLnNwbGl0KCd8JykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc2xpc3QgPSBwbGlzdAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBtdGhkIGluIFsnMScsJzAxJ106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JhY2tfc3VibWl0LnN1Ym1pdChmZmIsaWRzLG5hbWVzLHBhc3NsaXN0KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGlmIG10aGQgaW4gWycyJywnMDInXToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmFja19zdWJtaXQuc3VibWl0KGFwaSxpZHMsbmFtZXMscGFzc2xpc3QpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JhY2tfc3VibWl0LnN1Ym1pdChhcGkxLGlkcyxuYW1lcyxwYXNzbGlzdCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCgnXDAzM1sxOzM3bScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZXgoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCcgVGhlIHByb2Nlc3MgaGFzIGNvbXBsZXRlZCcpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoJyBUb3RhbCBPSy9DUDogJytzdHIobGVuKG9rcykpKycvJytzdHIobGVuKGNwcykpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmV4KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dCgnIFByZXNzIGVudGVyIHRvIGJhY2sgJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcy5zeXN0ZW0oJ3B5dGhvbiBqYWxpaWlsLnB5JykKICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiB4ZCBpbiBbJzInLCcwMiddOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltcG9ydCBkdW1wCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVtcC5NYWluKCkKICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiB4ZCBpbiBbJzMnLCcwMyddOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1YmxpYygpCiAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgeGQgaW4gWyc0JywnMDQnXToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhcigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoJyBbMV0gUGFraXN0YW4gY2xvbmluZ1xuIFsyXSBCYW5nbGFkZXNoIGNsb25pbmdcbiBbM10gR21haWwgY2xvbmluZ1xuIFswXSBCYWNrIG1lbnUnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmV4KCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4PWlucHV0KCcgQ2hvb3NlOiAnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHggaW4gWycxJywnMDEnXToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhaygpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiB4IGluIFsnMicsJzAyJ106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiB4IGluIFsnMycsJzAzJ106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbWFpbCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lbnUoKQogICAgICAgICAgICAgICAgICAgICAgICBlbGlmIHhkIGluIFsnNScsJzA1J106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ21haWwoKQogICAgICAgICAgICAgICAgICAgICAgICBlbGlmIHhkIGluIFsnNicsJzA2J106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd3g9KCdEc2o5Sk1Xb2l4azRRc2plME5nM25BJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcy5zeXN0ZW0oZid4ZGctb3BlbiBodHRwczovL2NoYXQud2hhdHNhcHAuY29tL3t3eH0nKTttZW51KCkKICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiB4ZCBpbiBbJzcnLCcwNyddOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly9tZWRpYWZpcmUuY29tL2ZpbGUveTF3dmdjMnpxcXVueGJuL0FLSU5HX1ZQTjEuMC5hcGsvZmlsZScpO21lbnUoKQogICAgICAgICAgICAgICAgICAgICAgICBlbGlmIHhkIGluIFsnOCcsJzA4J106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL3d3dy5mYWNlYm9vay5jb20vZ3JvdXBzLzM2NzQ0MzU3MDM2NjcwNi8/cmVmPXNoYXJlJyk7bWVudSgpCiAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgeGQgaW4gWycwJywnMDAnXToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGl0KCcgVGhhbmtzIGZvciB1c2Ug8J+lsCAnKQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXQoJyBPcHRpb24gbm90IGZvdW5kIGluIG1lbnUuLi4nKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoIlwwMzNbMTszMW0gWW91ciBOb3QgUHJlbWl1bSBVc2VyLi4uIVwwMzNbMTszN20iKTt0aW1lLnNsZWVwKDEpCiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyKCkKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoJ1wwMzNbMTszMW0gRmlyc3QgUmVhZCBOb3RlIDogJykKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoIlwwMzNbMTszNm0gV2UgTm90IFJlc3BvbnNpYmxlIGlmIGZhY2Vib29rXG4gZ28gb24gdXBkYXRlIHlvdSBub3QgZ2V0IG9rIGlkelxuIFdlIGRvbid0IHJlc3BvbnNpYmxlIGlmIHlvdSBkZWxldGUgeW91ciBcbiB0ZXJtdXggYW5kIGtleSBuZWVkIGFwcHJvdmVcMDMzWzE7MzdtIikKICAgICAgICAgICAgICAgICAgICAgICAgbGluZXgoKQogICAgICAgICAgICAgICAgICAgICAgICBsaW5leCgpO3ByaW50ICgiIFRvb2xzLi4gOiBGYWNlYm9vayBDbG9uaW5nIik7cHJpbnQgKCIgU3RhdHVzICA6IFwwMzNbMTs5MW1UcmFpbFwwMzNbMTszN21cbiBcMDMzWzE7MzFtXDAzM1sxOzQybU5vdGU6IElmIFlvdSBBcmUgRnJlZSBVc2VyIERvbid0IENvbWUgSUJcMDMzWzA7MG0iKTtsaW5leCgpO3ByaW50KCcgWytdIEZpbGUgY3JhY2tcbiBbK10gQ3JlYXRlIGlkcyBmaWxlXG4gWytdIFB1YmxpYyBjcmFja1xuIFsrXSBSYW5kb20gbnVtYmVyIGNyYWNrXG4gWytdIFJhbmRvbSBnbWFpbCBjcmFja1xuIFsrXSBFeGl0IG1lbnVcblx4MWJbMTs5N20gWzFdIFVwZ3JhZGUgVG9vbCBUbyAoXHgxYlsxOzk1bVByZW1pdW1ceDFiWzE7MzdtKScpCiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmV4KCkKICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQoIiBDaG9vc2UgT3B0aW9uIDogIikKICAgICAgICAgICAgICAgICAgICAgICAgbGluZXgoKQogICAgICAgICAgICAgICAgICAgICAgICBzdWJwcm9jZXNzLmNoZWNrX291dHB1dChbImFtIiwgInN0YXJ0IiwgdXJsX3dhKyh0a3MpXSk7dGltZS5zbGVlcCgyKQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCgnIFJ1biA6ICBweXRob24gamFsaWlpbC5weScpCiAgICAgICAgICAgICAgICAgICAgICAgIGV4aXQoKQogICAgICAgIGV4Y2VwdCBWYWx1ZUVycm9yOgogICAgICAgICAgICAgICAgZXhpdCgpCiAgICAgICAgZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgogICAgICAgICAgICAgICAgcHJpbnQoJ1xuIE5vIGludGVybmV0IGNvbm5lY3Rpb24gLi4uJykKICAgICAgICAgICAgICAgIGV4aXQoKQpkZWYgcGFrKCk6CiAgICAgICAgICAgICAgICB1c2VyPVtdCiAgICAgICAgICAgICAgICBjbGVhcigpCiAgICAgICAgICAgICAgICBwcmludCgnXDAzM1sxOzMxbSBDb2RlIGV4YW1wbGU6IDAzMDYsMDMxNSwwMzM1LDAzNDUnKQogICAgICAgICAgICAgICAgY29kZSA9IGlucHV0KCdcMDMzWzE7MzdtIHB1dCBjb2RlOiAnKQogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgICAgICBsaW1pdCA9IGludChpbnB1dCgnXDAzM1sxOzMxbSBleGFtcGxlOiAyMDAwLCAzMDAwLCA1MDAwLCAxMDAwMFxuXDAzM1sxOzM3bSBwdXQgbGltaXQ6ICcpKQogICAgICAgICAgICAgICAgZXhjZXB0IFZhbHVlRXJyb3I6CiAgICAgICAgICAgICAgICAgICAgICAgIGxpbWl0ID0gNTAwMAogICAgICAgICAgICAgICAgZm9yIG5tYnIgaW4gcmFuZ2UobGltaXQpOgogICAgICAgICAgICAgICAgICAgICAgICBubXAgPSAnJy5qb2luKHJhbmRvbS5jaG9pY2Uoc3RyaW5nLmRpZ2l0cykgZm9yIF8gaW4gcmFuZ2UoNykpCiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXIuYXBwZW5kKG5tcCkKICAgICAgICAgICAgICAgIHdpdGggdHJlZChtYXhfd29ya2Vycz0zMCkgYXMgQWtpbmc6ICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXIoKQogICAgICAgICAgICAgICAgICAgICAgICB0bCA9IHN0cihsZW4odXNlcikpCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCcgVG90YWwgYWNjb3VudCA6IFwwMzNbMTszMm0nK3RsKQogICAgICAgICAgICAgICAgICAgICAgICBwcmludChmJ1wwMzNbMTszN20gQ2hvaWNlIGNvZGUgLi46XDAzM1sxOzMybSAnK2NvZGUpCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KGYnXDAzM1sxOzM3bSBceDFiWzM4OzU7MjA4bVVTRSBGTElHSFQgTU9ERSBGT1IgU1BFRUQgVVBcMDMzWzE7OTdtJykKICAgICAgICAgICAgICAgICAgICAgICAgbGluZXgoKQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgcHN4IGluIHVzZXI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRzID0gY29kZStwc3gKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzbGlzdCA9IFtwc3gsaWRzLCdraGFua2hhbicsJ2toYW4xMTIyJywna2hhbjEyMzQ1Jywna2hhbjEyMzQnLCdraGFuMTInLCdraGFuNzg2Jywna2hhbjEyMycsJ2toYW4xMjM0NTYnLCdraGFua2hhbjEyMycsJzc4Njc4NiddCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQWtpbmcuc3VibWl0KHJuZG0saWRzLHBhc3NsaXN0KQogICAgICAgICAgICAgICAgcHJpbnQoJ1wwMzNbMTszN20nKQogICAgICAgICAgICAgICAgbGluZXgoKQogICAgICAgICAgICAgICAgcHJpbnQoJyBUaGUgcHJvY2VzcyBoYXMgY29tcGxldGVkJykKICAgICAgICAgICAgICAgIHByaW50KCcgVG90YWwgT0svQ1A6ICcrc3RyKGxlbihva3MpKSsnLycrc3RyKGxlbihjcHMpKSkKICAgICAgICAgICAgICAgIGxpbmV4KCkKICAgICAgICAgICAgICAgIGlucHV0KCcgUHJlc3MgZW50ZXIgdG8gYmFjayAnKQogICAgICAgICAgICAgICAgb3Muc3lzdGVtKCdweXRob24gamFsaWlpaWwucHknKQpkZWYgYmQoKToKICAgICAgICAgICAgICAgIHVzZXI9W10KICAgICAgICAgICAgICAgIGNsZWFyKCkKICAgICAgICAgICAgICAgIHByaW50KCdcMDMzWzE7MzFtIENvZGUgZXhhbXBsZTogMDE2LDAxNywwMTgsMDE5JykKICAgICAgICAgICAgICAgIGNvZGUgPSBpbnB1dCgnXDAzM1sxOzM3bSBwdXQgY29kZTogJykKICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICAgICAgbGltaXQgPSBpbnQoaW5wdXQoJ1wwMzNbMTszMW0gZXhhbXBsZTogMjAwMCwgMzAwMCwgNTAwMCwgMTAwMDBcblwwMzNbMTszN20gcHV0IGxpbWl0OiAnKSkKICAgICAgICAgICAgICAgIGV4Y2VwdCBWYWx1ZUVycm9yOgogICAgICAgICAgICAgICAgICAgICAgICBsaW1pdCA9IDUwMDAKICAgICAgICAgICAgICAgIGZvciBubWJyIGluIHJhbmdlKGxpbWl0KToKICAgICAgICAgICAgICAgICAgICAgICAgbm1wID0gJycuam9pbihyYW5kb20uY2hvaWNlKHN0cmluZy5kaWdpdHMpIGZvciBfIGluIHJhbmdlKDgpKQogICAgICAgICAgICAgICAgICAgICAgICB1c2VyLmFwcGVuZChubXApCiAgICAgICAgICAgICAgICB3aXRoIHRyZWQobWF4X3dvcmtlcnM9MzApIGFzIEFraW5nOiAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyKCkKICAgICAgICAgICAgICAgICAgICAgICAgdGwgPSBzdHIobGVuKHVzZXIpKQogICAgICAgICAgICAgICAgICAgICAgICBwcmludCgnIFRvdGFsIGFjY291bnQgOiBcMDMzWzE7MzJtJyt0bCkKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoZidcMDMzWzE7MzdtIENob2ljZSBjb2RlIC4uOlwwMzNbMTszMm0gJytjb2RlKQogICAgICAgICAgICAgICAgICAgICAgICBwcmludChmJ1wwMzNbMTszN20gXHgxYlszODs1OzIwOG1Vc2UgZmxpZ2h0IG1vZGUgZm9yIHNwZWVkIHVwXDAzM1sxOzk3bScpCiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmV4KCkKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIHBzeCBpbiB1c2VyOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkcyA9IGNvZGUrcHN4CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc2xpc3QgPSBbcHN4LGlkcywnQmFuZ2xhZGVzaCcsJ2JhbmdsYWRlc2gnLCdpIGxvdmUgeW91JywnaWxvdmV5b3UnLCdmcmVlIGZpcmUnLCdmcmVlZmlyZSddCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQWtpbmcuc3VibWl0KHJuZG0saWRzLHBhc3NsaXN0KQogICAgICAgICAgICAgICAgcHJpbnQoJ1wwMzNbMTszN20nKQogICAgICAgICAgICAgICAgbGluZXgoKQogICAgICAgICAgICAgICAgcHJpbnQoJyBUaGUgcHJvY2VzcyBoYXMgY29tcGxldGVkJykKICAgICAgICAgICAgICAgIHByaW50KCcgVG90YWwgT0svQ1A6ICcrc3RyKGxlbihva3MpKSsnLycrc3RyKGxlbihjcHMpKSkKICAgICAgICAgICAgICAgIGxpbmV4KCkKICAgICAgICAgICAgICAgIGlucHV0KCcgUHJlc3MgZW50ZXIgdG8gYmFjayAnKQogICAgICAgICAgICAgICAgb3Muc3lzdGVtKCdweXRob24gamFsaWlpbC5weScpCmRlZiBnbWFpbCgpOgogICAgICAgICAgICAgICAgb3Muc3lzdGVtKCdybSAtcmYgLnJlLnR4dCcpCiAgICAgICAgICAgICAgICBjbGVhcigpCiAgICAgICAgICAgICAgICBwcmludCgnXDAzM1sxOzM3bSBleGFtcGxlOiBtdWhhbW1hZCwgYWxpLCBzYWpqYWQsIGZhaXphblwwMzNbMTs5N20nKQogICAgICAgICAgICAgICAgbGluZXgoKQogICAgICAgICAgICAgICAgZmlyc3QgPSBpbnB1dCgnIFB1dCBmaXJzdCBuYW1lOiAnKQogICAgICAgICAgICAgICAgbGluZXgoKQogICAgICAgICAgICAgICAgcHJpbnQoJ1wwMzNbMTszN20gZXhhbXBsZToga2hhbiwgYWhtYWQsIGFsaSBcMDMzWzE7OTdtJykKICAgICAgICAgICAgICAgIGxpbmV4KCkKICAgICAgICAgICAgICAgIGxhc3QgPSBpbnB1dCgnIFB1dCBsYXN0IG5hbWU6ICcpCiAgICAgICAgICAgICAgICBsaW5leCgpCiAgICAgICAgICAgICAgICBwcmludCgnIEV4YW1wbGU6IEBnbWFpbC5jb20gLCBAeWFob28uY29tIGV0Yy4uLicpCiAgICAgICAgICAgICAgICBsaW5leCgpCiAgICAgICAgICAgICAgICBkb21haW4gPSBpbnB1dCgnIGRvbWFpbjogJykKICAgICAgICAgICAgICAgIGxpbmV4KCkKICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICAgICAgbGltaXQ9aW50KGlucHV0KCcgUHV0IGxpbWl0OiAnKSkKICAgICAgICAgICAgICAgIGV4Y2VwdCBWYWx1ZUVycm9yOgogICAgICAgICAgICAgICAgICAgICAgICBsaW1pdCA9IDUwMDAKICAgICAgICAgICAgICAgIGxpbmV4KCkKICAgICAgICAgICAgICAgIHByaW50KCcgR2V0dGluZyBnbWFpbHMuLi4nKQogICAgICAgICAgICAgICAgbGlzdHMgPSBbJzMnLCc0J10KICAgICAgICAgICAgICAgIGZvciB4ZCBpbiByYW5nZShsaW1pdCk6CiAgICAgICAgICAgICAgICAgICAgICAgIGxjaG9pY2UgPSByYW5kb20uY2hvaWNlKGxpc3RzKQogICAgICAgICAgICAgICAgICAgICAgICBpZiAnMycgaW4gbGNob2ljZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWlsID0gJycuam9pbihyYW5kb20uY2hvaWNlKHN0cmluZy5kaWdpdHMpIGZvciBfIGluIHJhbmdlKDMpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZW4oJy5yZS50eHQnLCdhJykud3JpdGUoZmlyc3QubG93ZXIoKStsYXN0Lmxvd2VyKCkrbWFpbCtkb21haW4rJ3wnK2ZpcnN0KycgJytsYXN0KydcbicpCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFpbCA9ICcnLmpvaW4ocmFuZG9tLmNob2ljZShzdHJpbmcuZGlnaXRzKSBmb3IgXyBpbiByYW5nZSg0KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuKCcucmUudHh0JywnYScpLndyaXRlKGZpcnN0Lmxvd2VyKCkrbGFzdC5sb3dlcigpK21haWwrZG9tYWluKyd8JytmaXJzdCsnICcrbGFzdCsnXG4nKQogICAgICAgICAgICAgICAgICAgICAgICBmbyA9IG9wZW4oJy5yZS50eHQnLCAncicpLnJlYWQoKS5zcGxpdGxpbmVzKCkKICAgICAgICAgICAgICAgIHdpdGggdHJlZChtYXhfd29ya2Vycz0zMCkgYXMgQWtpbmc6CiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsID0gc3RyKGxlbihmbykpCiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyKCkKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoJyBUb3RhbCBhY2NvdW50IDogXDAzM1sxOzMybScrdG90YWwpCiAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCJcMDMzWzE7MzdtIFx4MWJbMzg7NTsyMDhtVXNlIGZsaWdodCBtb2RlIGZvciBzcGVlZCB1cFwwMzNbMTszN20iKQogICAgICAgICAgICAgICAgICAgICAgICBsaW5leCgpCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciB1c2VyIGluIGZvOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkcyxuYW1lcyA9IHVzZXIuc3BsaXQoJ3wnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0X25hbWUgPSBuYW1lcy5yc3BsaXQoJyAnKVswXQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RfbmFtZSA9IG5hbWVzLnJzcGxpdCgnICcpWzFdCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0IEluZGV4RXJyb3I6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0X25hbWUgPSAnS2hhbicKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcyA9IGZpcnN0X25hbWUubG93ZXIoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxzID0gbGFzdF9uYW1lLmxvd2VyKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzbGlzdCA9IFtmcytscyxmcysnICcrbHMsZnMrJzEyMycsZnMrJzEyMzQ1JyxmcysnMTEyMicsZnMsZnMrJzEyMzQnLGZzKyc3ODYnLGZzKycxMiddCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQWtpbmcuc3VibWl0KHJuZG0saWRzLHBhc3NsaXN0KQogICAgICAgICAgICAgICAgcHJpbnQoJ1wwMzNbMTszN20nKQogICAgICAgICAgICAgICAgbGluZXgoKQogICAgICAgICAgICAgICAgcHJpbnQoJyBUaGUgcHJvY2VzcyBoYXMgY29tcGxldGVkJykKICAgICAgICAgICAgICAgIHByaW50KCcgVG90YWwgT0svQ1A6ICcrc3RyKGxlbihva3MpKSsnLycrc3RyKGxlbihjcHMpKSkKICAgICAgICAgICAgICAgIGxpbmV4KCkKICAgICAgICAgICAgICAgIGlucHV0KCcgUHJlc3MgZW50ZXIgdG8gYmFjayAnKQogICAgICAgICAgICAgICAgb3Muc3lzdGVtKCdweXRob24gamFsaWlpbC5weScpCmRlZiBmZmIoaWRzLG5hbWVzLHBhc3NsaXN0KToKICAgICAgICBnbG9iYWwgbG9vcCxva3MsY3BzCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZSgnXHJcclwwMzNbMTszN20gW0pBTElJSUwtWERdICVzfFwwMzNbMTszMm1PSzotJXMgXDAzM1sxOzM3bSclKGxvb3AsbGVuKG9rcykpKTtzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBzZXNzaW9uID0gcmVxdWVzdHMuU2Vzc2lvbigpCiAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgZmlyc3QgPSBuYW1lcy5zcGxpdCgnICcpWzBdCiAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3QgPSBuYW1lcy5zcGxpdCgnICcpWzFdCiAgICAgICAgICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3QgPSAnS2hhbicKICAgICAgICAgICAgICAgIHBzID0gZmlyc3QubG93ZXIoKQogICAgICAgICAgICAgICAgcHMyID0gbGFzdC5sb3dlcigpCiAgICAgICAgICAgICAgICBmb3IgZmlrciBpbiBwYXNzbGlzdDoKICAgICAgICAgICAgICAgICAgICAgICAgcGFzID0gZmlrci5yZXBsYWNlKCdGaXJzdCcsZmlyc3QpLnJlcGxhY2UoJ0xhc3QnLGxhc3QpLnJlcGxhY2UoJ2ZpcnN0JyxwcykucmVwbGFjZSgnbGFzdCcscHMyKQogICAgICAgICAgICAgICAgICAgICAgICB1YT1yYW5kb20uY2hvaWNlKHVnZW4pCiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWQgPSB7J0hvc3QnOiAnbS5mYWNlYm9vay5jb20nLCAndmlld3BvcnQtd2lkdGgnOiAnOTgwJywgJ3NlYy1jaC11YSc6ICciIE5vdCBBO0JyYW5kIjt2PSI5OSIsICJDaHJvbWl1bSI7dj0iMTAwIiwgIkdvb2dsZSBDaHJvbWUiO3Y9IjEwMCInLCAnc2VjLWNoLXVhLW1vYmlsZSc6ICc/MScsICdzZWMtY2gtdWEtcGxhdGZvcm0nOiciQW5kcm9pZCInLCAnc2VjLWNoLXByZWZlcnMtY29sb3Itc2NoZW1lJzogJ2xpZ2h0JywgJ2RudCc6ICcxJywgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnOiAnMScsICd1c2VyLWFnZW50JzogdWEsICdhY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKltpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBjbG9zZXJdL1tpbnNlcnRlZCBieSBjeXRob24gdG8gYXZvaWQgY29tbWVudCBzdGFydF0qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45JywgJ3NlYy1mZXRjaC1zaXRlJzogJ25vbmUnLCAnc2VjLWZldGNoLW1vZGUnOiAnbmF2aWdhdGUnLCAnc2VjLWZldGNoLXVzZXInOiAnPzEnLCAnc2VjLWZldGNoLWRlc3QnOiAnZG9jdW1lbnQnLCAnYWNjZXB0LWVuY29kaW5nJzogJ2d6aXAsIGRlZmxhdGUsIGJyJywgJ2FjY2VwdC1sYW5ndWFnZSc6ICdlbi1VUyxlbjtxPTAuOSd9CiAgICAgICAgICAgICAgICAgICAgICAgIGdldGxvZyA9IHNlc3Npb24uZ2V0KGYnaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luL2RldmljZS1iYXNlZC9wYXNzd29yZC8/dWlkPXtpZHN9JmZsb3c9bG9naW5fbm9fcGluJnJlZnNyYz1kZXByZWNhdGVkJl9yZHInKQogICAgICAgICAgICAgICAgICAgICAgICBpZHBhc3MgPXsibHNkIjpyZS5zZWFyY2goJ25hbWU9ImxzZCIgdmFsdWU9IiguKj8pIicsIHN0cihnZXRsb2cudGV4dCkpLmdyb3VwKDEpLCJqYXpvZXN0IjpyZS5zZWFyY2goJ25hbWU9Imphem9lc3QiIHZhbHVlPSIoLio/KSInLCBzdHIoZ2V0bG9nLnRleHQpKS5ncm91cCgxKSwidWlkIjppZHMsIm5leHQiOiJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbG9naW4vc2F2ZS1kZXZpY2UvIiwiZmxvdyI6ImxvZ2luX25vX3BpbiIsInBhc3MiOnBhcyx9CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlID0gc2Vzc2lvbi5wb3N0KCdodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbG9naW4vZGV2aWNlLWJhc2VkL3ZhbGlkYXRlLXBhc3N3b3JkLz9zaGJsPTAnLGRhdGE9aWRwYXNzLGFsbG93X3JlZGlyZWN0cz1GYWxzZSxoZWFkZXJzPWhlYWQpCiAgICAgICAgICAgICAgICAgICAgICAgIEFraW5nPXNlc3Npb24uY29va2llcy5nZXRfZGljdCgpLmtleXMoKQogICAgICAgICAgICAgICAgICAgICAgICBpZiAiY191c2VyIiBpbiBBa2luZzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2tpPXNlc3Npb24uY29va2llcy5nZXRfZGljdCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga3VraSA9ICgiOyIpLmpvaW4oWyAiJXM9JXMiICUgKGtleSwgdmFsdWUpIGZvciBrZXksIHZhbHVlIGluIHNlc3Npb24uY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCgnXHJcclwwMzNbMTszMm0gW0pBTElJSUwtT0tdICVzIHwgJXMnJShpZHMscGFzKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuKCcvc2RjYXJkL0pBTElJSUwtT0sudHh0JywgJ2EnKS53cml0ZShpZHMrJ3wnK3BhcysnXG4nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQoaWRzKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgJ2NoZWNrcG9pbnQnIGluIEFraW5nOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICd5JyBpbiBwY3A6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCgnXHJcclx4MWJbMzg7NTsyMDhtIFtKQUxJSUlMLUNQXSAnK2lkcysnIHwgJytwYXMrJ1wwMzNbMTs5N20nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbignL3NkY2FyZC9KQUxJSUlMLUNQLnR4dCcsICdhJykud3JpdGUoaWRzKyd8JytwYXMrJ1xuJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNwcy5hcHBlbmQoaWRzKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAoMjApCiAgICAgICAgbG9vcCs9MQp4eHh4eD0oIkdULTEwMTUiLCJHVC0xMDIwIiwiR1QtMTAzMCIsIkdULTEwMzUiLCJHVC0xMDQwIiwiR1QtMTA0NSIsIkdULTEwNTAiLCJHVC0xMjQwIiwiR1QtMTQ0MCIsIkdULTE0NTAiLCJHVC0xODE5MCIsIkdULTE4MjYyIiwiR1QtMTkwNjBJIiwiR1QtMTkwODIiLCJHVC0xOTA4MyIsIkdULTE5MTA1IiwiR1QtMTkxNTIiLCJHVC0xOTE5MiIsIkdULTE5MzAwIiwiR1QtMTk1MDUiLCJHVC0yMDAwIiwiR1QtMjAwMDAiLCJHVC0yMDBzIiwiR1QtMzAwMCIsIkdULTQxNFhPUCIsIkdULTY5MTgiLCJHVC03MDEwIiwiR1QtNzAyMCIsIkdULTcwMzAiLCJHVC03MDQwIiwiR1QtNzA1MCIsIkdULTcxMDAiLCJHVC03MTA1IiwiR1QtNzExMCIsIkdULTcyMDUiLCJHVC03MjEwIiwiR1QtNzI0MFIiLCJHVC03MjQ1IiwiR1QtNzMwMyIsIkdULTczMTAiLCJHVC03MzIwIiwiR1QtNzMyNSIsIkdULTczMjYiLCJHVC03MzQwIiwiR1QtNzQwNSIsIkdULTc1NTAgNUdULTgwMDUiLCJHVC04MDEwIiwiR1QtODEiLCJHVC04MTAiLCJHVC04MTA1IiwiR1QtODExMCIsIkdULTgyMjBTIiwiR1QtODQxMCIsIkdULTkzMDAiLCJHVC05MzIwIiwiR1QtOTNHIiwiR1QtQTcxMDAiLCJHVC1BOTUwMCIsIkdULUFORFJPSUQiLCJHVC1CMjcxMCIsIkdULUI1MzMwIiwiR1QtQjUzMzBCIiwiR1QtQjUzMzBMIiwiR1QtQjUzMzBaS0FJTlUiLCJHVC1CNTUxMCIsIkdULUI1NTEyIiwiR1QtQjU3MjIiLCJHVC1CNzUxMCIsIkdULUI3NzIyIiwiR1QtQjc4MTAiLCJHVC1COTE1MCIsIkdULUI5Mzg4IiwiR1QtQzMwMTAiLCJHVC1DMzI2MiIsIkdULUMzMzEwUiIsIkdULUMzMzEyIiwiR1QtQzMzMTJSIiwiR1QtQzMzMTNUIiwiR1QtQzMzMjIiLCJHVC1DMzMyMmkiLCJHVC1DMzUyMCIsIkdULUMzNTIwSSIsIkdULUMzNTkyIiwiR1QtQzM1OTUiLCJHVC1DMzc4MiIsIkdULUM2NzEyIiwiR1QtRTEyODJUIiwiR1QtRTE1MDAiLCJHVC1FMjIwMCIsIkdULUUyMjAyIiwiR1QtRTIyNTAiLCJHVC1FMjI1MiIsIkdULUUyNjAwIiwiR1QtRTI2NTJXIiwiR1QtRTMyMTAiLCJHVC1FMzMwOSIsIkdULUUzMzA5SSIsIkdULUUzMzA5VCIsIkdULUc1MzBIIiwiR1QtRzkzMEYiLCJHVC1IOTUwMCIsIkdULUk1NTA4IiwiR1QtSTU4MDEiLCJHVC1JNjQxMCIsIkdULUk4MTUwIiwiR1QtSTgxNjBPS0xUUEEiLCJHVC1JODE2MFpXTFRUVCIsIkdULUk4MjU4IiwiR1QtSTgyNjJEIiwiR1QtSTgyNjgiIkdULUk4NTA1IiwiR1QtSTg1MzBCQUFCVFUiLCJHVC1JODUzMEJBTENITyIsIkdULUk4NTMwQkFMVFRUIiwiR1QtSTg1NTBFIiwiR1QtSTg3NTAiLCJHVC1JOTAwIiwiR1QtSTkwMDhMIiwiR1QtSTkwODBFIiwiR1QtSTkwODJDIiwiR1QtSTkwODJFV0FJTlUiLCJHVC1JOTA4MmkiLCJHVC1JOTEwMEciLCJHVC1JOTEwMExLTENIVCIsIkdULUk5MTAwTSIsIkdULUk5MTAwUCIsIkdULUk5MTAwVCIsIkdULUk5MTA1VUFOREJUIiwiR1QtSTkxMjhFIiwiR1QtSTkxMjhJIiwiR1QtSTkxMjhWIiwiR1QtSTkxNThQIiwiR1QtSTkxNThWIiwiR1QtSTkxNjhJIiwiR1QtSTkxOTAiLCJHVC1JOTE5MiIsIkdULUk5MTkySSIsIkdULUk5MTk1SCIsIkdULUk5MTk1TCIsIkdULUk5MjUwIiwiR1QtSTkzMDAiLCJHVC1JOTMwMEkiLCJHVC1JOTMwMUkiLCJHVC1JOTMwM0kiLCJHVC1JOTMwNU4iLCJHVC1JOTMwOEkiLCJHVC1JOTUwMCIsIkdULUk5NTA1RyIsIkdULUk5NTA1WCIsIkdULUk5NTA3ViIsIkdULUk5NjAwIiwiR1QtTTU2NTAiLCJHVC1ONTAwMFMiLCJHVC1ONTEwMCIsIkdULU41MTA1IiwiR1QtTjUxMTAiLCJHVC1ONTEyMCIsIkdULU43MDAwQiIsIkdULU43MDA1IiwiR1QtTjcxMDAiLCJHVC1ONzEwMFQiLCJHVC1ONzEwMiIsIkdULU43MTA1IiwiR1QtTjcxMDVUIiwiR1QtTjcxMDgiLCJHVC1ONzEwOEQiLCJHVC1OODAwMCIsIkdULU44MDA1IiwiR1QtTjgwMTAiLCJHVC1OODAyMCIsIkdULU45MDAwIiwiR1QtTjk1MDUiLCJHVC1QMTAwMENXQVhTQSIsIkdULVAxMDAwTSIsIkdULVAxMDAwVCIsIkdULVAxMDEwIiwiR1QtUDMxMDBCIiwiR1QtUDMxMDUiLCJHVC1QMzEwOCIsIkdULVAzMTEwIiwiR1QtUDUxMDAiLCJHVC1QNTExMCIsIkdULVA1MjAwIiwiR1QtUDUyMTAiLCJHVC1QNTIxMFhEMSIsIkdULVA1MjIwIiwiR1QtUDYyMDAiLCJHVC1QNjIwMEwiLCJHVC1QNjIwMSIsIkdULVA2MjEwIiwiR1QtUDYyMTEiLCJHVC1QNjgwMCIsIkdULVA3MTAwIiwiR1QtUDczMDAiLCJHVC1QNzMwMEIiLCJHVC1QNzMxMCIsIkdULVA3MzIwIiwiR1QtUDc1MDBEIiwiR1QtUDc1MDBNIiwiU0FNU1VORyIsIkxNWTQiLCJMTVk0N1YiLCJNTUIyOUsiLCJNTUIyOU0iLCJMUlgyMkMiLCJMUlgyMkciLCJOTUYyIiwiTk1GMjZYIiwiTk1GMjZYOyIsIk5SRDkwTSIsIk5SRDkwTTsiLCJTUEgtTDcyMCIsIklNTDc0SyIsIklNTTc2RCIsIkpEUTM5IiwiSlNTMTVKIiwiSlpPNTRLIiwiS09UNCIsIktPVDQ5SCIsIktPVDRTTS1UMzEwIiwiS1RVODRQIiwiU00tQTUwMEYiLCJTTS1BNTAwRlUiLCJTTS1BNTAwSCIsIlNNLUc1MzJGIiwiU00tRzkwMEYiLCJTTS1HOTIwRiIsIlNNLUc5MzBGIiwiU00tRzkzNSIsIlNNLUc5NTBGIiwiU00tSjMyMEYiLCJTTS1KMzIwRk4iLCJTTS1KMzIwSCIsIlNNLUozMjBNIiwiU00tSjUxMEZOIiwiU00tSjcwMUYiLCJTTS1OOTIwUyIsIlNNLVQxMTEiLCJTTS1UMjMwIiwiU00tVDIzMSIsIlNNLVQyMzUiLCJTTS1UMjgwIiwiU00tVDMxMSIsIlNNLVQzMTUiLCJTTS1UNTI1IiwiU00tVDUzMSIsIlNNLVQ1MzUiLCJTTS1UNTU1IiwiU00tVDU2MSIsIlNNLVQ3MDUiLCJTTS1UODA1IiwiU00tVDgyMCIpCmRlZiBhcGkoaWRzLG5hbWVzLHBhc3NsaXN0KToKICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsIG9rLGxvb3AKICAgICAgICAgICAgICAgICAgICAgICAgc3lzLnN0ZG91dC53cml0ZSgnXHJcclwwMzNbMTszN20gW0pBTElJSUwtWERdICVzfFwwMzNbMTszMm1PSzotJXMgXDAzM1sxOzM3bSclKGxvb3AsbGVuKG9rcykpKTtzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICAgICAgICAgICAgICAgICAgZm4gPSBuYW1lcy5zcGxpdCgnICcpWzBdCiAgICAgICAgICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbiA9IG5hbWVzLnNwbGl0KCcgJylbMV0KICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxuID0gZm4KICAgICAgICAgICAgICAgICAgICAgICAgZm9yIHB3IGluIHBhc3NsaXN0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcyA9IHB3LnJlcGxhY2UoJ2ZpcnN0Jyxmbi5sb3dlcigpKS5yZXBsYWNlKCdGaXJzdCcsZm4pLnJlcGxhY2UoJ2xhc3QnLGxuLmxvd2VyKCkpLnJlcGxhY2UoJ0xhc3QnLGxuKS5yZXBsYWNlKCdOYW1lJyxuYW1lcykucmVwbGFjZSgnbmFtZScsbmFtZXMubG93ZXIoKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBsaWNhdGlvbl92ZXJzaW9uID0gc3RyKHJhbmRvbS5yYW5kaW50KDExMSw1NTUpKSsnLjAuMC4nK3N0cihyYW5kb20ucmFuZHJhbmdlKDksNDkpKStzdHIocmFuZG9tLnJhbmRpbnQoMTExLDU1NSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbGljYXRpb25fdmVyc2lvbl9jb2RlPXN0cihyYW5kb20ucmFuZGludCgwMDAwMDAwMDAsOTk5OTk5OTk5KSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYnM9cmFuZG9tLmNob2ljZShmYmtzKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGd0dD1yYW5kb20uY2hvaWNlKHh4eHh4KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGd0dHQ9cmFuZG9tLmNob2ljZSh4eHh4eCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmRyb2lkX3ZlcnNpb249c3RyKHJhbmRvbS5yYW5kcmFuZ2UoNiwxMykpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWFfc3RyaW5nID0gZidEYXZpay8yLjEuMCAoTGludXg7IFU7IEFuZHJvaWQge3N0cihhbmRyb2lkX3ZlcnNpb24pfS4wLjA7IHtzdHIoZ3R0KX0gQnVpbGQve3N0cihndHR0KX0gW0ZCQU4vRkI0QTtGQkFWL3tzdHIoYXBwbGljYXRpb25fdmVyc2lvbil9O0ZCQlYve3N0cihhcHBsaWNhdGlvbl92ZXJzaW9uX2NvZGUpfTtGQkRNLycrJ3tkZW5zaXR5PTIuMCx3aWR0aD03MjAsaGVpZ2h0PTEyODB9OycrZidGQkxDL2VuX1VTO0ZCUlYve3N0cihhcHBsaWNhdGlvbl92ZXJzaW9uX2NvZGUpfTtGQkNSL01vdmlzdGFyO0ZCTUYvc2Ftc3VuZztGQkJEL3NhbXN1bmc7RkJQTi97c3RyKGZicyl9O0ZCRFYve3N0cihndHQpfTtGQlNWLzcuMDtGQk9QLzE7RkJDQS9hcm1lYWJpLXY3YTphcm1lYWJpO10nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2aWNlX2lkID0gc3RyKHV1aWQudXVpZDQoKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGlkID0gc3RyKHV1aWQudXVpZDQoKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0geydhZGlkJzphZGlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2VtYWlsJzppZHMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncGFzc3dvcmQnOnBhcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjcGwnOid0cnVlJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjcmVkZW50aWFsc190eXBlJzonZGV2aWNlX2Jhc2VkX2xvZ2luX3Bhc3N3b3JkJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzb3VyY2UiOiAiZGV2aWNlX2Jhc2VkX2xvZ2luIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdlcnJvcl9kZXRhaWxfdHlwZSc6J2J1dHRvbl93aXRoX2Rpc2FibGVkJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdzb3VyY2UnOidsb2dpbicsJ2Zvcm1hdCc6J2pzb24nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2dlbmVyYXRlX3Nlc3Npb25fY29va2llcyc6JzEnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2dlbmVyYXRlX2FuYWx5dGljc19jbGFpbSc6JzEnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2dlbmVyYXRlX21hY2hpbmVfaWQnOicxJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJsb2NhbGUiOiJlbl9VUyIsImNsaWVudF9jb3VudHJ5X2NvZGUiOiJVUyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGV2aWNlJzpndHQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGV2aWNlX2lkJzphZGlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1ldGhvZCI6ICJhdXRoLmxvZ2luIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJmYl9hcGlfcmVxX2ZyaWVuZGx5X25hbWUiOiAiYXV0aGVudGljYXRlIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJmYl9hcGlfY2FsbGVyX2NsYXNzIjogImNvbS5mYWNlYm9vay5hY2NvdW50LmxvZ2luLnByb3RvY29sLkZiNGFBdXRoSGFuZGxlciJ9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZCA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjb250ZW50LXR5cGUnOidhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3gtZmItc2ltLWhuaSc6c3RyKHJhbmRvbS5yYW5kaW50KDJlNCw0ZTQpKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd4LWZiLWNvbm5lY3Rpb24tdHlwZSc6J3Vua25vd24nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0F1dGhvcml6YXRpb24nOidPQXV0aCAzNTA2ODU1MzE3Mjh8NjJmOGNlOWY3NGIxMmY4NGMxMjNjYzIzNDM3YTRhMzInLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3VzZXItYWdlbnQnOnVhX3N0cmluZywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd4LWZiLW5ldC1obmknOnN0cihyYW5kb20ucmFuZGludCgyZTQsNGU0KSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAneC1mYi1jb25uZWN0aW9uLWJhbmR3aWR0aCc6c3RyKHJhbmRvbS5yYW5kaW50KDJlNywzZTcpKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd4LWZiLWNvbm5lY3Rpb24tcXVhbGl0eSc6J0VYQ0VMTEVOVCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAneC1mYi1mcmllbmRseS1uYW1lJzonYXV0aGVudGljYXRlJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhY2NlcHQtZW5jb2RpbmcnOidnemlwLCBkZWZsYXRlJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd4LWZiLWh0dHAtZW5naW5lJzogICAgICdMaWdlcid9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gJ2h0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvID0gcmVxdWVzdHMucG9zdCh1cmwsZGF0YT1kYXRhLGhlYWRlcnM9aGVhZCxhbGxvd19yZWRpcmVjdHM9RmFsc2UpLnRleHQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxID0ganNvbi5sb2FkcyhwbykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAnc2Vzc2lvbl9rZXknIGluIHE6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCgnXHJcclwwMzNbMTszMm0gW0pBTElJSUwtT0tdICcraWRzKycgfCAnK3BhcysnXDAzM1sxOzk3bScpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuKCcvc2RjYXJkL0pBTElJSUwtT0sudHh0JywnYScpLndyaXRlKGlkcysnfCcrcGFzKydcbicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKGlkcykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsnZXJyb3JfbXNnJ106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAneScgaW4gcGNwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCgnXHJcclx4MWJbMzg7NTsyMDhtIFtKQUxJSUlMLUNQXSAnK2lkcysnIHwgJytwYXMrJ1wwMzNbMTs5N20nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuKCcvc2RjYXJkL0pBTElJSUwtQ1AudHh0JywgJ2EnKS53cml0ZShpZHMrJ3wnK3BhcysnXG4nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKGlkcykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgICAgICAgICAgICAgbG9vcCs9MQogICAgICAgICAgICAgICAgZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgogICAgICAgICAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKDEwKQogICAgICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICAgICAgICAgICAgICBwYXNzCmRlZiBhcGkxKGlkcyxuYW1lcyxwYXNzbGlzdCk6CiAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbCBvayxsb29wCiAgICAgICAgICAgICAgICAgICAgICAgIHN5cy5zdGRvdXQud3JpdGUoJ1xyXHJcMDMzWzE7MzdtIFtKQUxJSUlMLVhEXSAlc3xcMDMzWzE7MzJtT0s6LSVzIFwwMzNbMTszN20nJShsb29wLGxlbihva3MpKSk7c3lzLnN0ZG91dC5mbHVzaCgpCiAgICAgICAgICAgICAgICAgICAgICAgIGZuID0gbmFtZXMuc3BsaXQoJyAnKVswXQogICAgICAgICAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG4gPSBuYW1lcy5zcGxpdCgnICcpWzFdCiAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbiA9IGZuCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciBwdyBpbiBwYXNzbGlzdDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXMgPSBwdy5yZXBsYWNlKCdmaXJzdCcsZm4ubG93ZXIoKSkucmVwbGFjZSgnRmlyc3QnLGZuKS5yZXBsYWNlKCdsYXN0Jyxsbi5sb3dlcigpKS5yZXBsYWNlKCdMYXN0JyxsbikucmVwbGFjZSgnTmFtZScsbmFtZXMpLnJlcGxhY2UoJ25hbWUnLG5hbWVzLmxvd2VyKCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbGljYXRpb25fdmVyc2lvbiA9IHN0cihyYW5kb20ucmFuZGludCgxMTEsNTU1KSkrJy4wLjAuJytzdHIocmFuZG9tLnJhbmRyYW5nZSg5LDQ5KSkrc3RyKHJhbmRvbS5yYW5kaW50KDExMSw1NTUpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGxpY2F0aW9uX3ZlcnNpb25fY29kZT1zdHIocmFuZG9tLnJhbmRpbnQoMDAwMDAwMDAwLDk5OTk5OTk5OSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmJzPXJhbmRvbS5jaG9pY2UoZmJrcykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBndHQ9cmFuZG9tLmNob2ljZSh4eHh4eCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBndHR0PXJhbmRvbS5jaG9pY2UoeHh4eHgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5kcm9pZF92ZXJzaW9uPXN0cihyYW5kb20ucmFuZHJhbmdlKDYsMTMpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVhX3N0cmluZyA9IGYnRGF2aWsvMi4xLjAgKExpbnV4OyBVOyBBbmRyb2lkIHtzdHIoYW5kcm9pZF92ZXJzaW9uKX0uMC4wOyB7c3RyKGd0dCl9IEJ1aWxkL3tzdHIoZ3R0dCl9IFtGQkFOL0ZCNEE7RkJBVi97c3RyKGFwcGxpY2F0aW9uX3ZlcnNpb24pfTtGQkJWL3tzdHIoYXBwbGljYXRpb25fdmVyc2lvbl9jb2RlKX07RkJETS8nKyd7ZGVuc2l0eT0yLjAsd2lkdGg9NzIwLGhlaWdodD0xMjgwfTsnK2YnRkJMQy9lc19DVTtGQlJWL3tzdHIoYXBwbGljYXRpb25fdmVyc2lvbl9jb2RlKX07RkJDUi9Nb3Zpc3RhcjtGQk1GL3NhbXN1bmc7RkJCRC9zYW1zdW5nO0ZCUE4ve3N0cihmYnMpfTtGQkRWL3tzdHIoZ3R0KX07RkJTVi83LjA7RkJPUC8xO0ZCQ0EvYXJtZWFiaS12N2E6YXJtZWFiaTtdJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldmljZV9pZCA9IHN0cih1dWlkLnV1aWQ0KCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRpZCA9IHN0cih1dWlkLnV1aWQ0KCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHsnYWRpZCc6YWRpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdlbWFpbCc6aWRzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Bhc3N3b3JkJzpwYXMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY3BsJzondHJ1ZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY3JlZGVudGlhbHNfdHlwZSc6J2RldmljZV9iYXNlZF9sb2dpbl9wYXNzd29yZCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic291cmNlIjogImRldmljZV9iYXNlZF9sb2dpbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZXJyb3JfZGV0YWlsX3R5cGUnOididXR0b25fd2l0aF9kaXNhYmxlZCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc291cmNlJzonbG9naW4nLCdmb3JtYXQnOidqc29uJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXMnOicxJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdnZW5lcmF0ZV9hbmFseXRpY3NfY2xhaW0nOicxJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdnZW5lcmF0ZV9tYWNoaW5lX2lkJzonMScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibG9jYWxlIjoiZXNfQ1UiLCJjbGllbnRfY291bnRyeV9jb2RlIjoiQ1UiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RldmljZSc6Z3R0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RldmljZV9pZCc6YWRpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtZXRob2QiOiAiYXV0aC5sb2dpbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZmJfYXBpX3JlcV9mcmllbmRseV9uYW1lIjogImF1dGhlbnRpY2F0ZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZmJfYXBpX2NhbGxlcl9jbGFzcyI6ICJjb20uZmFjZWJvb2suYWNjb3VudC5sb2dpbi5wcm90b2NvbC5GYjRhQXV0aEhhbmRsZXIifQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWQgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY29udGVudC10eXBlJzonYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd4LWZiLXNpbS1obmknOnN0cihyYW5kb20ucmFuZGludCgyZTQsNGU0KSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAneC1mYi1jb25uZWN0aW9uLXR5cGUnOid1bmtub3duJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzonT0F1dGggMzUwNjg1NTMxNzI4fDYyZjhjZTlmNzRiMTJmODRjMTIzY2MyMzQzN2E0YTMyJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd1c2VyLWFnZW50Jzp1YV9zdHJpbmcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAneC1mYi1uZXQtaG5pJzpzdHIocmFuZG9tLnJhbmRpbnQoMmU0LDRlNCkpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3gtZmItY29ubmVjdGlvbi1iYW5kd2lkdGgnOnN0cihyYW5kb20ucmFuZGludCgyZTcsM2U3KSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAneC1mYi1jb25uZWN0aW9uLXF1YWxpdHknOidFWENFTExFTlQnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3gtZmItZnJpZW5kbHktbmFtZSc6J2F1dGhlbnRpY2F0ZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYWNjZXB0LWVuY29kaW5nJzonZ3ppcCwgZGVmbGF0ZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAneC1mYi1odHRwLWVuZ2luZSc6ICAgICAnTGlnZXInfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybCA9ICdodHRwczovL2ItZ3JhcGguZmFjZWJvb2suY29tL2F1dGgvbG9naW4/aW5jbHVkZV9oZWFkZXJzPWZhbHNlJmRlY29kZV9ib2R5X2pzb249ZmFsc2Umc3RyZWFtYWJsZV9qc29uX3Jlc3BvbnNlPXRydWUnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG8gPSByZXF1ZXN0cy5wb3N0KHVybCxkYXRhPWRhdGEsaGVhZGVycz1oZWFkLGFsbG93X3JlZGlyZWN0cz1GYWxzZSkudGV4dAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHEgPSBqc29uLmxvYWRzKHBvKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICdzZXNzaW9uX2tleScgaW4gcToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCdcclxyXDAzM1sxOzMybSBbSkFMSUlJTC1PS10gJytpZHMrJyB8ICcrcGFzKydcMDMzWzE7OTdtJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZW4oJy9zZGNhcmQvSkFMSUlJTC1PSy50eHQnLCdhJykud3JpdGUoaWRzKyd8JytwYXMrJ1xuJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQoaWRzKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGlmICd3d3cuZmFjZWJvb2suY29tJyBpbiBxWydlcnJvciddWydtZXNzYWdlJ106CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAneScgaW4gcGNwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmludCgnXHJcclx4MWJbMzg7NTsyMDhtIFtKQUxJSUlMLUNQXSAnK2lkcysnIHwgJytwYXMrJ1wwMzNbMTs5N20nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuKCcvc2RjYXJkL0pBTElJSUwtQ1AudHh0JywgJ2EnKS53cml0ZShpZHMrJ3wnK3BhcysnXG4nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKGlkcykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZW4oJy9zZGNhcmQvSkFMSUlJTC1DUC50eHQnLCdhJykud3JpdGUoaWRzKyd8JytwYXMrJ1xuJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgICAgICAgICAgICAgbG9vcCs9MQogICAgICAgICAgICAgICAgZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgogICAgICAgICAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKDEwKQogICAgICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICAgICAgICAgICAgICBwYXNzCmRlZiBybmRtKGlkcyxwYXNzbGlzdCk6CiAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbCBvayxsb29wCiAgICAgICAgICAgICAgICAgICAgICAgIHN5cy5zdGRvdXQud3JpdGUoJ1xyXHJcMDMzWzE7MzdtIFtKQUxJSUlMLVhEXSAlc3xcMDMzWzE7MzJtT0s6LSVzIFwwMzNbMTszN20nJShsb29wLGxlbihva3MpKSk7c3lzLnN0ZG91dC5mbHVzaCgpCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciBwYXMgaW4gcGFzc2xpc3Q6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwbGljYXRpb25fdmVyc2lvbiA9IHN0cihyYW5kb20ucmFuZGludCgxMTEsNTU1KSkrJy4wLjAuJytzdHIocmFuZG9tLnJhbmRyYW5nZSg5LDQ5KSkrc3RyKHJhbmRvbS5yYW5kaW50KDExMSw1NTUpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGxpY2F0aW9uX3ZlcnNpb25fY29kZT1zdHIocmFuZG9tLnJhbmRpbnQoMDAwMDAwMDAwLDk5OTk5OTk5OSkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmJzPXJhbmRvbS5jaG9pY2UoZmJrcykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBndHQ9cmFuZG9tLmNob2ljZSh4eHh4eCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBndHR0PXJhbmRvbS5jaG9pY2UoeHh4eHgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5kcm9pZF92ZXJzaW9uPXN0cihyYW5kb20ucmFuZHJhbmdlKDYsMTMpKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVhX3N0cmluZyA9IGYnRGF2aWsvMi4xLjAgKExpbnV4OyBVOyBBbmRyb2lkIHtzdHIoYW5kcm9pZF92ZXJzaW9uKX0uMC4wOyB7c3RyKGd0dCl9IEJ1aWxkL3tzdHIoZ3R0dCl9IFtGQkFOL0ZCNEE7RkJBVi97c3RyKGFwcGxpY2F0aW9uX3ZlcnNpb24pfTtGQkJWL3tzdHIoYXBwbGljYXRpb25fdmVyc2lvbl9jb2RlKX07RkJETS8nKyd7ZGVuc2l0eT0yLjAsd2lkdGg9NzIwLGhlaWdodD0xMjgwfTsnK2YnRkJMQy9lbl9VUztGQlJWL3tzdHIoYXBwbGljYXRpb25fdmVyc2lvbl9jb2RlKX07RkJDUi9Nb3Zpc3RhcjtGQk1GL3NhbXN1bmc7RkJCRC9zYW1zdW5nO0ZCUE4ve3N0cihmYnMpfTtGQkRWL3tzdHIoZ3R0KX07RkJTVi83LjA7RkJPUC8xO0ZCQ0EvYXJtZWFiaS12N2E6YXJtZWFiaTtdJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldmljZV9pZCA9IHN0cih1dWlkLnV1aWQ0KCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRpZCA9IHN0cih1dWlkLnV1aWQ0KCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHsnYWRpZCc6YWRpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdlbWFpbCc6aWRzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3Bhc3N3b3JkJzpwYXMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY3BsJzondHJ1ZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY3JlZGVudGlhbHNfdHlwZSc6J2RldmljZV9iYXNlZF9sb2dpbl9wYXNzd29yZCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAic291cmNlIjogImRldmljZV9iYXNlZF9sb2dpbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZXJyb3JfZGV0YWlsX3R5cGUnOididXR0b25fd2l0aF9kaXNhYmxlZCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc291cmNlJzonbG9naW4nLCdmb3JtYXQnOidqc29uJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXMnOicxJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdnZW5lcmF0ZV9hbmFseXRpY3NfY2xhaW0nOicxJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdnZW5lcmF0ZV9tYWNoaW5lX2lkJzonMScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAibG9jYWxlIjoiZW5fVVMiLCJjbGllbnRfY291bnRyeV9jb2RlIjoiVVMiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RldmljZSc6Z3R0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2RldmljZV9pZCc6YWRpZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtZXRob2QiOiAiYXV0aC5sb2dpbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZmJfYXBpX3JlcV9mcmllbmRseV9uYW1lIjogImF1dGhlbnRpY2F0ZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZmJfYXBpX2NhbGxlcl9jbGFzcyI6ICJjb20uZmFjZWJvb2suYWNjb3VudC5sb2dpbi5wcm90b2NvbC5GYjRhQXV0aEhhbmRsZXIifQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWQgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY29udGVudC10eXBlJzonYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd4LWZiLXNpbS1obmknOnN0cihyYW5kb20ucmFuZGludCgyZTQsNGU0KSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAneC1mYi1jb25uZWN0aW9uLXR5cGUnOid1bmtub3duJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdBdXRob3JpemF0aW9uJzonT0F1dGggMzUwNjg1NTMxNzI4fDYyZjhjZTlmNzRiMTJmODRjMTIzY2MyMzQzN2E0YTMyJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd1c2VyLWFnZW50Jzp1YV9zdHJpbmcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAneC1mYi1uZXQtaG5pJzpzdHIocmFuZG9tLnJhbmRpbnQoMmU0LDRlNCkpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3gtZmItY29ubmVjdGlvbi1iYW5kd2lkdGgnOnN0cihyYW5kb20ucmFuZGludCgyZTcsM2U3KSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAneC1mYi1jb25uZWN0aW9uLXF1YWxpdHknOidFWENFTExFTlQnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3gtZmItZnJpZW5kbHktbmFtZSc6J2F1dGhlbnRpY2F0ZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYWNjZXB0LWVuY29kaW5nJzonZ3ppcCwgZGVmbGF0ZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAneC1mYi1odHRwLWVuZ2luZSc6ICAgICAnTGlnZXInfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybCA9ICdodHRwczovL2ItYXBpLmZhY2Vib29rLmNvbS9tZXRob2QvYXV0aC5sb2dpbicKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbyA9IHJlcXVlc3RzLnBvc3QodXJsLGRhdGE9ZGF0YSxoZWFkZXJzPWhlYWQsYWxsb3dfcmVkaXJlY3RzPUZhbHNlKS50ZXh0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcSA9IGpzb24ubG9hZHMocG8pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgJ3Nlc3Npb25fa2V5JyBpbiBxOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWlkPXN0cihxWyd1aWQnXSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2trPW9wZW4oJy9zZGNhcmQvSkFMSUlJTC1PSy50eHQnLCdyJykucmVhZCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHVpZCBpbiBva2s6cGFzcwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW50KCdcclxyXDAzM1sxOzMybSBbSkFMSUlJTC1PS10gJyt1aWQrJyB8ICcrcGFzKydcMDMzWzE7OTdtJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuKCcvc2RjYXJkL0pBTElJSUwtT0sudHh0JywnYScpLndyaXRlKHVpZCsnfCcrcGFzKydcbicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2tzLmFwcGVuZChpZHMpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoJ1xyXHJcMDMzWzE7MzJtIFtKQUxJSUlMLU9LXSAnK3VpZCsnIHwgJytwYXMrJ1wwMzNbMTs5N20nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuKCcvc2RjYXJkL0pBTElJSUwtT0sudHh0JywnYScpLndyaXRlKHVpZCsnfCcrcGFzKydcbicpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9rcy5hcHBlbmQoaWRzKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAgICAgICAgICAgICBsb29wKz0xCiAgICAgICAgICAgICAgICBleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAoMTApCiAgICAgICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgICAgICAgICAgICAgIHBhc3MKICAgICAgICAgICAgICAgICAgICAgICAgCnRyeToKICAgICAgICBtZW51KCkKZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgogICAgICAgIHByaW50KCdcbiBObyBpbnRlcm5ldCBjb25uZWN0aW9uIC4uLicpCiAgICAgICAgZXhpdCgpCmV4Y2VwdCBFeGNlcHRpb24gYXMgZTpwYXNzCm1lbnUoKQ=='))
